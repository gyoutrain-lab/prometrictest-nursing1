<<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nursing Prometric Simulation Test</title>
  <style>
    body{font-family:Arial,sans-serif;background:#eef5f5;color:#111;margin:0;padding:0}
    .container{max-width:900px;margin:auto;padding:24px;text-align:center}
    h2{text-align:center;color:#003366;font-size:3rem;margin-bottom:20px}
    h2 small{font-size:1.5rem;color:#444;display:block;margin-top:5px}
    input.unlock-code{padding:10px;width:200px;margin-top:20px;border-radius:5px;border:1px solid #ccc;font-size:1rem}
    button{padding:10px 20px;margin-top:10px;border:none;border-radius:5px;cursor:pointer;background:#28a745;color:#fff;font-size:1rem}
    button:disabled{background:#ccc;cursor:not-allowed}
    .notification{margin-top:12px;color:#cc0000;font-weight:bold}
    footer{margin-top:20px;font-size:0.9rem;color:red}
  </style>
</head>
<body>
  <div class="container">
    <h2>ðŸ©º (All in One) Nursing Prometric Simulation Test<br><small>Adapted from Prometric/SMLE and NCLEX materials</small></h2>

    <input type="text" id="unlockCodeInput" class="unlock-code" placeholder="Enter unlock code">
    <br>
    <button id="continueBtn" onclick="checkUnlockCode()" disabled>Continue to Test</button>
    <div class="notification" id="notificationBox"></div>

    <footer>
      Prepared by: <b>Giyono Asfarrasyid, ETK Yogyakarta</b>
    </footer>
  </div>

<script>
let unlockCode = ""; // Admin sets this manually
let approved = false;

function showNotification(msg,color="#cc0000"){
  const box = document.getElementById("notificationBox");
  box.style.color = color;
  box.innerText = msg;
}

function checkUnlockCode(){
  const codeInput = document.getElementById("unlockCodeInput").value.trim().toUpperCase();
  if(!codeInput){ showNotification("Enter unlock code."); return; }
  if(!approved){ showNotification("Admin approval required."); return; }
  if(codeInput === unlockCode){
    showNotification("Unlock valid! Redirecting...","#28a745");
    setTimeout(()=>{ 
      window.location.href = "https://script.google.com/macros/s/AKfycbwYfVBD3Lb7uIzGynRnnXJYJSwe5FdCqg1DcCxuMDm6C6WToz_gxmWWacEZFv1arwUG/exec";
    },800);
  } else {
    showNotification("Invalid unlock code.");
  }
}

// Example: Admin manually sets unlock code after payment
function setUnlockCodeFromAdmin(code){
  unlockCode = code.toUpperCase();
  approved = true;
  document.getElementById("continueBtn").disabled = false;
  showNotification("Payment approved. Enter unlock code.","#28a745");
}

// ---- Example: admin sets code ----
setUnlockCodeFromAdmin("XO5U2T"); // Replace with actual unlock code from sheet
</script>
</body>
</html>
