<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Nursing Prometric Test - Landing Page</title>

<!-- SPEED BOOST -->
<link rel="preconnect" href="https://raw.githubusercontent.com">
<link rel="preconnect" href="https://cdn-icons-png.flaticon.com">

<!-- PRELOAD OG IMAGE -->
<link rel="preload" href="https://raw.githubusercontent.com/gyoutrain-lab/prometric-nursing-test-commerce2/main/assets/icon17%20(1).jpg" as="image">

<!-- FAVICON + APP ICON -->
<link rel="icon" type="image/jpg" href="https://raw.githubusercontent.com/gyoutrain-lab/prometric-nursing-test-commerce2/main/assets/icon17%20(1).jpg">
<link rel="apple-touch-icon" href="https://raw.githubusercontent.com/gyoutrain-lab/prometric-nursing-test-commerce2/main/assets/icon17%20(1).jpg">

<!-- OPENGRAPH (FB, WhatsApp, Telegram, Messenger) -->
<meta property="og:title" content="Nursing Prometric Simulation Test">
<meta property="og:description" content="500 Test Items â€¢ SMLE & Enclex-Based â€¢ Detailed Rationale â€¢ Unlock-Code System">
<meta property="og:image" content="https://raw.githubusercontent.com/gyoutrain-lab/prometric-nursing-test-commerce2/main/assets/icon17%20(1).jpg">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:url" content="https://gyoutrain-lab.github.io/prometric-nursing-test-commerce2/">
<meta property="og:type" content="website">

<!-- TWITTER CARD -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Nursing Prometric Simulation Test">
<meta name="twitter:description" content="500 exam items with rationale based on SMLE & Enclex.">
<meta name="twitter:image" content="https://raw.githubusercontent.com/gyoutrain-lab/prometric-nursing-test-commerce2/main/assets/icon17%20(1).jpg">

<!-- FALLBACK IMAGE -->
<link rel="image_src" href="https://raw.githubusercontent.com/gyoutrain-lab/prometric-nursing-test-commerce2/main/assets/icon17%20(1).jpg">

<style>
body, html { margin:0; padding:0; font-family:Arial,sans-serif; height:100%; overflow-x:hidden; background:#eef5f5; }

/* MAIN IMAGE */
.top-half {
  width:100%;
  height:50vh;
  background:url('assets/icon17%20(1).jpg') center/cover no-repeat;
  position:relative;
}

/* CONTENT AREA */
.bottom-half {
  width:100%;
  height:50vh;
  position:relative;
  display:flex;
  flex-direction:column;
  justify-content:flex-end;
  align-items:flex-start;
  padding:20px;
  box-sizing:border-box;
  overflow:hidden;
  background:#eef5f5;
}

/* WATER BG */
.water-flow {
  position:absolute;
  top:0; left:0;
  width:200%; height:200%;
  background:url('assets/icon17%20(1).jpg') repeat;
  opacity:0.2;
  background-size:cover;
  animation:flow 15s linear infinite;
  pointer-events:none;
}
@keyframes flow {
  0%{transform:translate(-50%,-50%) rotate(0deg);}
  100%{transform:translate(-50%,-50%) rotate(360deg);}
}

/* ELEMENTS */
.qr-container { position:absolute; bottom:20px; right:20px; width:25%; max-width:200px; z-index:2; opacity:1; }

.user-info { margin-top:10px; font-size:0.9rem; color:#000; display:flex; flex-wrap:wrap; gap:10px; }
.user-info input { padding:5px 10px; border-radius:5px; border:1px solid #ccc; font-size:0.9rem; width:calc(50% - 10px); }

.social-icons { margin-top:15px; display:flex; gap:15px; z-index:2; position:relative; }
.social-icons a img { width:40px; height:40px; cursor:pointer; transition:transform 0.3s; }
.social-icons a img:hover { transform:scale(1.2); }

.buttons { margin-top:15px; z-index:2; position:relative; display:flex; flex-wrap:wrap; gap:10px; }
button { padding:10px 20px; border:none; border-radius:8px; cursor:pointer; font-size:1rem; transition:0.3s; }

#demo-btn { background-color:#ffc107; color:#000; }
#continue-btn { background-color:#28a745; color:#fff; }
#confirm-btn { background-color:#007bff; color:#fff; }
#demo-btn:hover { background-color:#e0a800; }
#continue-btn:hover { background-color:#218838; }
#confirm-btn:hover { background-color:#0056b3; }

input.unlock-code { padding:5px; width:150px; margin-right:10px; border-radius:5px; border:1px solid #ccc; }

/* NOTIFICATION */
.notification {
  position:fixed; top:10px; left:50%; transform:translateX(-50%);
  padding:15px 20px; background-color:#007bff; color:#fff;
  border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.2);
  font-size:1rem; display:none; z-index:9999; max-width:90%; text-align:center;
}

/* MOBILE ADAPTATION */
@media (max-width:768px){
  .qr-container { width:50%; max-width:250px; }
  .social-icons a img { width:30px; height:30px; }
  .user-info input { width:100%; }
  .buttons { flex-direction:column; gap:10px; }
}

/* PROMO TEXT */
#promoText {
  width: 100%;
  text-align: center;
  margin-top: 12px;
  position: relative;
  z-index: 9999;
}

#promoText .p-line1 {
  font-size: 1.8rem;
  font-weight: 800;
  background: linear-gradient(to right, #001a66, #003399);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

#promoText .p-line2 {
  font-size: 1.1rem;
  margin-top: 6px;
  background: linear-gradient(to right, #cc0000, #ff1a1a);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
</style>
</head>

<body>

<div class="notification" id="notificationBox"></div>

<!-- MAIN IMAGE -->
<div class="top-half" id="topHalf" data-src="assets/icon17%20(1).jpg"></div>

<!-- TEXT -->
<div id="promoText">
  <div class="p-line1">ðŸ©ºNursing Prometric Actual Simulation Test</div>
  <div class="p-line2">500 SMLE & Enclex-Based Test Items</div>
  <div class="p-line3">with detailed rationale elaboration</div>
</div>

<div class="bottom-half">
  <div class="water-flow"></div>

  <img id="danaQR" class="qr-container" data-src="assets/dana_qr.png" alt="Dana QR">

  <div class="user-info">
    <input type="text" id="userNameInput" placeholder="Enter your name" required>
    <input type="text" id="userWAInput" placeholder="Enter your WA #" required>
  </div>

  <div class="social-icons">
    <a href="tel:+6285399652487"><img src="https://cdn-icons-png.flaticon.com/512/597/597177.png"></a>
    <a href="https://wa.me/6285399652487" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/733/733585.png"></a>
    <a href="mailto:gyoutrain@gmail.com" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/732/732200.png"></a>
    <a href="https://web.facebook.com/gyouskill/" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/733/733547.png"></a>
    <a href="https://www.instagram.com/etkyogya" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/733/733558.png"></a>
  </div>

  <div class="buttons">
    <button id="demo-btn" onclick="window.location.href='https://gyoutrain-lab.github.io/prometric-nursing-test-demo/'">Demo Test (Free)</button>
    <button id="confirm-btn" onclick="confirmPayment()">Confirmation</button>
    <input type="text" class="unlock-code" id="unlockCodeInput" placeholder="Enter unlock code" disabled>
    <button id="continue-btn" onclick="checkUnlockCode()" disabled>Continue Next Test</button>
  </div>
</div>

<script>
function lazyLoadImage(img){
  const src = img.getAttribute('data-src');
  if(src){ img.src = src; img.style.opacity=1; img.removeAttribute('data-src'); }
}

window.addEventListener('load',()=>{
  const top=document.getElementById('topHalf');
  const qr=document.getElementById('danaQR');
  top.style.backgroundImage=`url('${top.getAttribute('data-src')}')`;
  lazyLoadImage(qr);
});

function showNotification(msg, color="#007bff", duration=3500){
  const box=document.getElementById("notificationBox");
  box.style.backgroundColor=color;
  box.innerText=msg;
  box.style.display="block";
  setTimeout(()=>{ box.style.display="none"; }, duration);
}

let unlockCode="";
let paymentApproved=false;
let intervalId=null;

function confirmPayment(){
  const name=document.getElementById("userNameInput").value.trim();
  const wa=document.getElementById("userWAInput").value.trim();
  if(!name || !wa){ showNotification("Please fill Name + WA.", "#cc0000"); return; }

  const adminMsg=`Payment Pending:
Name: ${name}
WA #: ${wa}
Check QR Dana - Share Proof - Unlock Code after confirmation`;

  window.open(`https://wa.me/6285399652487?text=${encodeURIComponent(adminMsg)}`, "_blank");

  document.getElementById("unlockCodeInput").disabled=true;
  document.getElementById("continue-btn").disabled=true;
  showNotification("Payment pending. Wait for admin confirmation.", "#ffc107");

  const GAS_URL="https://script.google.com/macros/s/AKfycbzIfzn164axPDK4hIXZxZCccCVxmfaO5hxOMyVExE0YfDyXY9TCrYRc067gDDhorQJhqQ/exec";

  if(intervalId) clearInterval(intervalId);

  intervalId=setInterval(()=>{
    fetch(GAS_URL,{
      method:"POST",
      body:JSON.stringify({name:name, wa:wa})
    }).then(res=>res.json())
    .then(data=>{
      if(data.status==="approved"){
        unlockCode=data.unlockCode.toUpperCase();
        paymentApproved=true;
        document.getElementById("unlockCodeInput").disabled=false;
        document.getElementById("continue-btn").disabled=false;
        clearInterval(intervalId);
        showNotification("Payment approved. Enter unlock code.", "#28a745");
      }
    }).catch(err=>console.log(err));
  },3000);
}

function checkUnlockCode(){
  const codeInput=document.getElementById("unlockCodeInput").value.trim().toUpperCase();
  if(!codeInput){ showNotification("Enter unlock code.", "#cc0000"); return; }
  if(!paymentApproved){ showNotification("Admin approval required.", "#cc0000"); return; }
  if(codeInput===unlockCode){
    showNotification("Unlock valid! Redirecting...", "#28a745");
    setTimeout(()=>{ window.location.href="https://gyoutrain-lab.github.io/nursing-prometric-test-allinone500/"; }, 1000);
  }else{
    showNotification("Invalid unlock code.", "#cc0000");
  }
}
</script>

</body>
</html>
